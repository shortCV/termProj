<!DOCTYPE html>
<html lang="">
<head>
    <title>Homepage</title>
</head>
<body>
    <h1>Thump</h1>
    <!---->

    <!--Welcome user/see who's logged in-->
    {% block content %}
    <!-- Show username or guest if not logged in -->
    Hello, {{ user.username|default:'Guest' }}!
    {% endblock %}

    <h2>Display</h2> <!--Display songs in the database-->
    <ul>
        <!-- Only show 5 -->
        {% for Songs in songs|slice:":5" %}
            <h6>{{ Songs.title }}, {{ Songs.date }}, {{ Songs.artist.all|join:", "  }}</h6>
        {% endfor %}
    </ul>

    <h2>Search</h2> <!-- Search Function -->
    <form method="post" action="/search_direct">
        {% csrf_token %} <!--Keeps hackers from taking over the form-->
        <input type="text" placeholder="Search.." name="search"> <!-- Search text inside bar -->
        <button type="submit">Submit</button> <!-- Submit button -->
    </form>

    <h2>User Accounts</h2> <!-- User Account -->
    <ul>
        {% if user.is_authenticated %} <!-- If user is already logged in -->
            <a class="nav-link" href="/logout">Logout</a>
        {% else %} <!-- If user is not logged in -->
            <a class="nav-link" href="/login">Login</a>
        {% endif %}
    </ul>

    <h2>Playlists</h2>
    <ul>
        {% if user.is_authenticated %} <!-- If user is already logged in -->
            <form action="/playlist_display" method="get">
                <label for="filter">Choose Playlist:</label>
                <select name="filter" id="filter">
                    {% for Playlist in playlists %}
                        {% if Playlist.user == user %}
                            <option value={{Playlist.title}}>{{ Playlist.title }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
                <input type="submit" value="Submit">
            </form>
        {% else %} <!-- If user is not logged in -->
            <h4>Nothing to see here</h4>
        {% endif %}
    </ul>

    <h2>Review</h2>
    <h2>Like</h2>


</body>
</html>
